define ("mod_evokeportfolio/togglelike",["jquery","core/ajax","mod_evokeportfolio/sweetalert"],function(a,b,c){var d=function(){this.registerEventListeners()};d.prototype.registerEventListeners=function(){a(document).on("click",".likebutton",function(c){var d=a(c.currentTarget).closest(".submission");if(0===d.length||1<d.length){this.showToast("error","Error trying to find the discussion for this comment.");return}var e=d.data("id"),f=b.call([{methodname:"mod_evokeportfolio_togglereaction",args:{submissionid:e,reactionid:1}}]);f[0].done(function(a){var b=d.find(".actions .likebutton"),c=d.find(".actions .likebutton .totalreactions");c.empty();b.toggleClass("hasreacted");if(!1==a.message||"false"==a.message){return}c.text(a.message)}.bind(this)).fail(function(a){var b=a.message;if(!b){b=a.error}this.showToast("error",b)}.bind(this))}.bind(this))};d.prototype.showToast=function(a,b){var d=c.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:8e3,timerProgressBar:!0,onOpen:function onOpen(a){a.addEventListener("mouseenter",c.stopTimer);a.addEventListener("mouseleave",c.resumeTimer)}});d.fire({icon:a,title:b})};return{init:function init(){return new d}}});
//# sourceMappingURL=togglelike.min.js.map
